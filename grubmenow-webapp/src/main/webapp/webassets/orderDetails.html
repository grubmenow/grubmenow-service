<div id="fb-root"></div>
<div class="food-finder text-center" ng-controller="orderDetailsController">

    <div ng-show="!FB.libraryLoaded" class="spinner">
    </div>
    <div ng-show="FB.libraryLoaded && FB.notRecognized">
        <!--  show login button -->
        <h4>Please login via Facebook to view the order.</h4>
        <p />
        <div class="fb-login-button" data-max-rows="1" data-scope="public_profile,email,user_friends" data-size="large"
                data-show-faces="false" data-auto-logout-link="false"></div>
    </div>

    <div ng-show="FB.libraryLoaded && !FB.notRecognized" class="container">
        <div ng-show="!orderLoaded" class="spinner"></div>
        <div ng-show="orderLoaded" class="panel panel-default">
			<div class="panel-heading">
				<div class="row">
				
				  <span class="span2" style="float: left; padding-right: 15px; padding-left: 15px; font-size: 12px;">
				  	<b>Order Date</b> <br/> {{getCustomerOrderResponse.customerOrder.orderCreationDate}}
				  </span>
					
				  <span class="span2" style="float: left; padding-right: 15px; font-size: 12px;">
                      <b>Order Amount</b> <br/> ${{getCustomerOrderResponse.customerOrder.orderAmount.value/100 | number:2}}
				  </span>
				  
				  <span class="span2" style="float: left; padding-right: 15px; font-size: 12px;">
				  	<b>Order Status</b> <br/> {{getCustomerOrderResponse.customerOrder.orderState}} 
				  </span>
				  
				  <span class="span2" style="float: left; padding-right: 15px; font-size: 12px;">
                    <b>Order Delivery</b> <br/> {{getCustomerOrderResponse.customerOrder.deliveryMethod.replace("_", " ")}}
				  </span>
				  
				  <span class="span4" style="float: right; padding-right: 15px; font-size: 12px;">
				  	<b>Order Id</b> <br/> {{getCustomerOrderResponse.customerOrder.orderId}}
				  </span>
				  
				</div>
			</div>
			<div class="panel-body">
				<table style="width: 100%">
					<tr>
						<td>
			              	<span style="float: left; font-size: 12px; padding-bottom: 5px; font-weight: bold; text-decoration: underline;"> Item </span>
			            </td>
						<td>
		              		<span style="float: left; font-size: 12px; padding-bottom: 5px; font-weight: bold; text-decoration: underline;"> Quantity </span>
			            </td>
						<td>
			              	<span style="float: right; font-size: 12px; padding-bottom: 5px; font-weight: bold; text-decoration: underline;"> Amount </span>
			            </td>
			        </tr>
				
					<tr ng-repeat="orderItem in getCustomerOrderResponse.customerOrderItems">
						<td>
			              	<span style="float: left"> {{orderItem.foodItem.foodItemName}} </span>
			            </td>
						<td>
			              	<span style="float: left"> {{orderItem.quantity}} </span>
			            </td>
						<td>
                            <span style="float: right"> ${{orderItem.orderItemAmount.value/100 | number:2}} </span>
			            </td>
			        </tr>
			        <tr>
						<td>
			              	
			            </td>
						<td>
			              <span style="float: right; font-style: italic;"> Tax @ 9.5% </span>
			            </td>
						<td>
			              <span style="float: right"> ${{getCustomerOrderResponse.customerOrder.taxAmount.value/100 | number:2}} </span>
			            </td>
			        </tr>
			        <tr>
						<td>
			              	
			            </td>
						<td>
			              	 <span style="float: right;"> <b>Total</b> </span>
			            </td>
						<td>
                             <span style="float: right"> ${{getCustomerOrderResponse.customerOrder.orderAmount.value/100 | number:2}}</span>
			            </td>
			        </tr>
				</table>
			</div>
			
	</div>		
			
		<div ng-show="showReview || allowReview">
			 <div class="starRate">
			 	<form>
			 	 <br/>
			 	 
			 	 
			 	 <span class="feedbackMessage" style="display: none;"></span>
			 	 
				 <div class="radio">
				    <label style="float: left"><input class="radio" style="float: left" type="radio" name="rating" value="5" ng-model="review.rating"> Awesome </label>
				 </div>
				 
				 <div class="radio">
			 	 	<label style="float: left"><input class="radio" style="float: left" type="radio" name="rating" value="4" ng-model="review.rating"> Good </label>
			 	 </div>
			 	 
			 	 <div class="radio">
			 	 	<label style="float: left"><input class="radio" style="float: left" type="radio" name="rating" value="3" ng-model="review.rating"> Ok </label>
			 	 </div>
			 	 
			 	 <div class="radio">
			 	 	<label style="float: left"><input class="radio" style="float: left" type="radio" name="rating" value="2" ng-model="review.rating"> Could have been better </label>
			 	 </div>
			 	 
			 	 <div class="radio">
				 	<label style="float: left"><input class="radio" style="float: left" type="radio" name="rating" value="1" ng-model="review.rating"> Not Satisfactory </label>
				 </div>
				 
				 <div class="radio">
				 	<textarea class="form-control" name="feedback" style="width: 100%; font-size: 12px"  ng-model="review.feedback" placeholder="Please provide feedback for your order"></textarea>
				 </div>
				
	  		    <span style="float: right"><button ng-click="submitFeedback(review)" class="btn btn-primary">Submit Feedback</button></span>
	  		    
	  		    <br/>
	  		    <br/><br/>
			 	</form>
			</div>
		</div>
		
	</div>

</div>
