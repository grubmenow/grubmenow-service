<div id="fb-root"></div>
<div class="rest-sel" ng-controller="CheckoutCtrl">
    <div ng-show="!fbLoaded" class="spinner"></div>
    <div ng-show="fbLoaded" class="container">
        <div class="col-md-2"></div>
        <div class="col-md-8 col-sm-12">
            <div class="checkoutTitle text-center" ng-show="FB.name"><h4>Welcome {{FB.name}}</h4></div>
            <div class="checkoutTitle">Your order details:</div>
            <div class="orderDetails">
                <div class="orderDetailsHeader">
                    <div class="col-xs-7 checkoutHeader">Item</div>
                    <div class="col-xs-2 checkoutHeader">Qty</div>
                    <div class="col-xs-3 checkoutHeader">Price</div>
                </div>
                <div ng-repeat="order in finalOrder.items">
                    <div class="col-xs-7 checkoutItem">{{order.orderName}}</div>
                    <div class="col-xs-2 text-right checkoutItem">{{order.orderQty}}</div>
                    <div class="col-xs-3 text-right checkoutItem">${{order.orderPrice/100 | number:2 }}</div>
                </div>
            </div>
            <div class="clearfix"></div>
            <div class="checkoutText">Taxes: </div><div class=" checkoutText noBold">${{finalOrder.tax/100 | number:2 }}</div>
            <div class="clearfix"></div>
            <div class="checkoutText">Order Total: </div><div class="checkoutText noBold">${{finalOrder.totalPrice/100 | number:2 }}</div>
            <div class="clearfix"></div>
            <div class="checkoutText">Pick up date and time: </div><div class="checkoutText noBold">{{finalOrder.pickupTime}}</div>
            <div class="clearfix"></div>
            <div class="checkoutText">Pick up address: </div><div class="checkoutText noBold">{{finalOrder.restLocation}}</div>
            <div class="clearfix"></div>
            <p />
            <div ng-show="FB.name" class="">
                <form class="form-horizontal" id="payment-form">
                    <div class="payment-errors">{{stripe.error.message}}</div>
                    
                    <div class="checkoutTitle">Please enter your contact information below:</div>
                    <div class="coFormElem">
                        <span class="coFormLabels">Name</span> <input type="text" class="form-control checkoutFormElem" id="coName" value={{FB.name}}>
                    </div>
                    <div class="coFormElem">
                        <span class="coFormLabels">Email</span> <input type="email" class="form-control checkoutFormElem" id="coEmail">
                    </div>
                    <div class="coFormElem">
                        <span class="coFormLabels">Phone (Optional)</span> <input type="text" class="form-control checkoutFormElem" id="coPhone">
                    </div>
                    <div class="coSpacer"></div>
                    <div class="checkoutTitle">Please enter your payment information below:</div>
                    <div class="checkoutText">Payment method:</div>
                    <div class="checkoutText noBold form-group">
                        <select class="form-control coPaymentSel" id="inputPayment" ng-model="payment.mode">
                            <option value=cash>Cash on Pickup</option>
                            <option value=card>Credit Card</option>
                        </select>
                    </div>
                    <div class="clearfix"></div>
                    <div ng-show="payment.mode == 'card'">
                        <div class="coFormElem">
                            <span class="coFormLabels">Card Number</span> <input type="text" class="form-control checkoutFormElem checkoutFormCC" data-stripe="number">
                        </div>
                        <div class="coFormElem">
                            <span class="coFormLabels">CVC</span> <input type="text" class="form-control checkoutFormCVC" size="4" data-stripe="cvc">
                        </div>
                        <div class="coFormElem coExpiry">
                            <span class="coFormLabels coExpiryLabel">Expiration (MM/YYYY)</span> <input type="text" class="form-control checkoutFormMM" size="2" data-stripe="exp-month">
                            <div class="checkoutFormSlash">/</div>
                            <input type="text" class="form-control checkoutFormYY" size="4" data-stripe="exp-year">
                            <div class="clearfix"></div>
                        </div>
                        <div class="clearfix"></div>
                        <div class="text-right">
                            <input type="button" class="btn btnGo btnCO" ng-click="makePayment()" ng-disabled="stripe.disableSubmit" id="makePaymentButton" value="Pay ${{finalOrder.totalPrice/100 | number:2 }} and Place Order" />
                        </div>
                    </div>
                    <div ng-show="payment.mode == 'cash'">
                        <div class="text-right">
                            <input type="button" class="btn btnGo btnCO" ng-click="placeOrder()" id="placeOrderButton" value="Place Order for ${{finalOrder.totalPrice/100 | number:2 }} COD" />
                        </div>
                    </div>
                </form>
            </div>            <div ng-show="FB.notRecognized" class="col-xs-12 text-center">
                <h4>Please login via Facebook to place the order.</h4>
                <p />
                <div class="fb-login-button" data-max-rows="1" data-size="large" data-show-faces="false" data-auto-logout-link="false"></div>
            </div>
        </div>
    </div>